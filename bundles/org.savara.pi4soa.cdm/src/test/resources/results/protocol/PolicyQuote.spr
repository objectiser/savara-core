[[ XSDElement ]]
import xsd "{http://creditagency.com/creditCheck}creditCheckRequest" as CreditCheckRequest, "{http://creditagency.com/creditCheck}creditCheckResponse" as CreditCheckResponse from "http://creditagency.com/creditCheck";
[[ XSDElement ]]
import xsd "{http://dmv.com/drivingRecord}drivingRecordRequest" as DrivingRecordRequest, "{http://dmv.com/drivingRecord}drivingRecordResponse" as DrivingRecordResponse from "http://dmv.com/drivingRecord";
[[ XSDType ]]
import xsd "{http://www.w3.org/2001/XMLSchema}string" as IDSSNType from "http://www.w3.org/2001/XMLSchema";
[[ XSDElement ]]
import xsd "{http://www.example.org/policyQuote}policyQuote" as PolicyQuote, "{http://www.example.org/policyQuote}policyQuoteFault" as PolicyQuoteFault, "{http://www.example.org/policyQuote}policyQuoteReply" as PolicyQuoteReply from "http://www.example.org/policyQuote";
[[ XSDElement ]]
import xsd "{http://www.w3.org/2001/XMLSchema}anyURI" as URITokenType from "http://www.w3.org/2001/XMLSchema";
[[ SourceComponent(id=//@choreographies.0) ]]
[[ Interface(role=Driver,namespace=http://www.pi4soa.org/PolicyQuote) ]]
[[ Interface(name=PolicyQuoteProcessService,role=PolicyQuoteProcessService,namespace=http://www.example.org/policyQuoteProcessService) ]]
[[ Interface(name=CreditCheckService,role=CreditCheckService,namespace=http://creditagency.com/creditCheckService) ]]
[[ Interface(name=DrivingRecordService,role=DrivingRecordService,namespace=http://dmv.com/drivingRecordService) ]]
[[ Interface(name=PolicyQuoteCalculationService,role=PolicyQuoteCalculationService,namespace=http://www.example.org/policyQuoteCalculationService) ]]
[[ Interface(name=PolicyQuoteEntityService,role=PolicyQuoteEntityService,namespace=http://www.example.org/policyQuoteEntityService) ]]
[[ Protocol(namespace=http://www.pi4soa.org/PolicyQuote) ]]
[[ SourceComponent(id=//@choreographies.0,language=cdm) ]]
[[ Type(prefix=tns,namespace=http://www.pi4soa.org/PolicyQuote) ]]
[[ Type(prefix=xsd,namespace=http://www.w3.org/2001/XMLSchema) ]]
[[ Type(location=schema/policyQuote.xsd,prefix=pol,namespace=http://www.example.org/policyQuote) ]]
[[ Type(location=schema/drivingRecord.xsd,prefix=drv,namespace=http://dmv.com/drivingRecord) ]]
[[ Type(location=schema/creditCheck.xsd,prefix=cred,namespace=http://creditagency.com/creditCheck) ]]
[[ Type(prefix=pps,namespace=http://www.example.org/policyQuoteProcessService) ]]
[[ Type(prefix=pcs,namespace=http://www.example.org/policyQuoteCalculationService) ]]
[[ Type(prefix=pes,namespace=http://www.example.org/policyQuoteEntityService) ]]
[[ Type(prefix=dmv,namespace=http://dmv.com/drivingRecordService) ]]
[[ Type(prefix=ca,namespace=http://creditagency.com/creditCheckService) ]]
protocol PolicyQuoteProcess(role Driver) {
	Driver introduces PolicyQuoteProcessService;
	PolicyQuoteProcessService introduces DrivingRecordService;
	[[ SourceComponent(id=//@choreographies.0/@activities.0/@exchangeDetails.0) ]]
	[[ Interface(name=PolicyQuoteProcessService,namespace=http://www.example.org/policyQuoteProcessService) ]]
	[[ Correlation(request=receivePolicyQuote) ]]
	receivePolicyQuote(PolicyQuote) from Driver to PolicyQuoteProcessService;
	[[ SourceComponent(id=//@choreographies.0/@activities.1/@exchangeDetails.0) ]]
	[[ Interface(name=DrivingRecordService,namespace=http://dmv.com/drivingRecordService) ]]
	checkDrivingRecord(DrivingRecordRequest) from PolicyQuoteProcessService to DrivingRecordService;
	[[ SourceComponent(id=//@choreographies.0/@activities.2/@exchangeDetails.0) ]]
	[[ Interface(name=DrivingRecordCallbackService,namespace=http://www.example.org/policyQuoteProcessService) ]]
	receiveDrivingRecord(DrivingRecordResponse) from DrivingRecordService to PolicyQuoteProcessService;
	[[ SourceComponent(id=//@choreographies.0/@activities.3) ]]
	choice at PolicyQuoteProcessService {
		PolicyQuoteProcessService introduces PolicyQuoteEntityService, PolicyQuoteCalculationService, CreditCheckService;
		[[ SourceComponent(id=//@choreographies.0/@activities.3/@activities.0/@activities.0/@activities.0/@exchangeDetails.0) ]]
		[[ Interface(name=CreditCheckService,namespace=http://creditagency.com/creditCheckService) ]]
		[[ Correlation(request=checkCredit) ]]
		checkCredit(CreditCheckRequest) from PolicyQuoteProcessService to CreditCheckService;
		[[ SourceComponent(id=//@choreographies.0/@activities.3/@activities.0/@activities.0/@activities.0/@exchangeDetails.1) ]]
		[[ Interface(name=CreditCheckService,namespace=http://creditagency.com/creditCheckService) ]]
		[[ Correlation(replyTo=checkCredit) ]]
		checkCredit(CreditCheckResponse) from CreditCheckService to PolicyQuoteProcessService;
		[[ SourceComponent(id=//@choreographies.0/@activities.3/@activities.0/@activities.0/@activities.1/@exchangeDetails.0) ]]
		[[ Interface(name=PolicyQuoteCalculationService,namespace=http://www.example.org/policyQuoteCalculationService) ]]
		[[ Correlation(request=calculatePolicyQuote) ]]
		calculatePolicyQuote(PolicyQuote) from PolicyQuoteProcessService to PolicyQuoteCalculationService;
		[[ SourceComponent(id=//@choreographies.0/@activities.3/@activities.0/@activities.0/@activities.1/@exchangeDetails.1) ]]
		[[ Interface(name=PolicyQuoteCalculationService,namespace=http://www.example.org/policyQuoteCalculationService) ]]
		[[ Correlation(replyTo=calculatePolicyQuote) ]]
		calculatePolicyQuote(PolicyQuoteReply) from PolicyQuoteCalculationService to PolicyQuoteProcessService;
		[[ SourceComponent(id=//@choreographies.0/@activities.3/@activities.0/@activities.0/@activities.2/@exchangeDetails.0) ]]
		[[ Interface(name=PolicyQuoteEntityService,namespace=http://www.example.org/policyQuoteEntityService) ]]
		[[ Correlation(request=createPolicyQuote) ]]
		createPolicyQuote(PolicyQuote) from PolicyQuoteProcessService to PolicyQuoteEntityService;
		[[ SourceComponent(id=//@choreographies.0/@activities.3/@activities.0/@activities.0/@activities.2/@exchangeDetails.1) ]]
		[[ Interface(name=PolicyQuoteEntityService,namespace=http://www.example.org/policyQuoteEntityService) ]]
		[[ Correlation(replyTo=createPolicyQuote) ]]
		createPolicyQuote(PolicyQuoteReply) from PolicyQuoteEntityService to PolicyQuoteProcessService;
		[[ SourceComponent(id=//@choreographies.0/@activities.3/@activities.0/@activities.0/@activities.3/@exchangeDetails.0) ]]
		[[ Interface(name=PolicyQuoteProcessService,namespace=http://www.example.org/policyQuoteProcessService) ]]
		[[ Correlation(replyTo=receivePolicyQuote) ]]
		receivePolicyQuote(PolicyQuoteReply) from PolicyQuoteProcessService to Driver;
	} or {
		[[ SourceComponent(id=//@choreographies.0/@activities.3/@activities.1/@activities.0/@exchangeDetails.0) ]]
		[[ Fault(name=policyQuoteFault) ]]
		[[ Interface(name=PolicyQuoteProcessService,namespace=http://www.example.org/policyQuoteProcessService) ]]
		[[ Correlation(replyTo=receivePolicyQuote) ]]
		receivePolicyQuote-policyQuoteFault(PolicyQuoteFault) from PolicyQuoteProcessService to Driver;
	}
}
