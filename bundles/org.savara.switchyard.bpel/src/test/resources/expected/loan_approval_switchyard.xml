<switchyard xmlns="urn:switchyard-config:switchyard:1.0" xmlns:bean="urn:switchyard-component-bean:config:1.0" xmlns:bpel="http://docs.oasis-open.org/ns/opencsa/sca/200903" xmlns:examples="http://www.jboss.org/bpel/examples" xmlns:ls="http://example.com/loan-approval/loanService/" xmlns:ra="http://example.com/loan-approval/riskAssessment/" xmlns:sca="http://docs.oasis-open.org/ns/opencsa/sca/200912" xmlns:soap="urn:switchyard-component-soap:config:1.0" xmlns:swyd="urn:switchyard-config:switchyard:1.0" xmlns:trfm="urn:switchyard-config:transform:1.0" name="loanapproval" targetNamespace="http://www.apache.org/ode/schemas/dd/2007/03">
    <sca:composite name="loanapproval" targetNamespace="http://www.apache.org/ode/schemas/dd/2007/03">
        <sca:service name="loanApprovalProcess" promote="loanApprovalProcess">
            <soap:binding.soap>
                <soap:wsdl>
                    loanServicePT.wsdl
                </soap:wsdl>
                <soap:socketAddr>
                    :18001
                </soap:socketAddr>
            </soap:binding.soap>
        </sca:service>
        <sca:component name="loanApprovalProcess">
            <bpel:implementation.bpel process="ls:loanApprovalProcess"/>
            <sca:service name="loanService">
                <sca:interface.wsdl interface="loanServicePT.wsdl#wsdl.porttype(loanServicePT)"/>
            </sca:service>
            <sca:reference name="riskAssessor">
                <sca:interface.wsdl interface="riskAssessmentPT.wsdl#wsdl.porttype(riskAssessmentPT)"/>
            </sca:reference>
        </sca:component>
        <sca:service name="riskAssessmentProcess" promote="riskAssessmentProcess">
            <soap:binding.soap>
                <soap:wsdl>
                    riskAssessmentPT.wsdl
                </soap:wsdl>
                <soap:socketAddr>
                    :18001
                </soap:socketAddr>
            </soap:binding.soap>
        </sca:service>
        <sca:component name="riskAssessmentProcess">
            <bpel:implementation.bpel process="ra:riskAssessmentProcess"/>
            <sca:service name="riskAssessor">
                <sca:interface.wsdl interface="riskAssessmentPT.wsdl#wsdl.porttype(riskAssessmentPT)"/>
            </sca:service>
        </sca:component>
    </sca:composite>
</switchyard>
